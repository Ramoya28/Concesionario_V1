<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
    <head th:replace="~{layout/plantilla :: head}">
        <title>TechShop</title>
    </head>
    <body>

        <!-- 1 Sección principal para mostrar la informaccion de la entidad marcas -->
        <section th:fragment="listadoAutos" id="autos">
            <div class="container">
                <div class="row">
                    <div class="col-md-9">
                        <div class="card">
                            <div class="card-header">
                                <h4>Información del auto</h4>
                            </div>
                            <!--div th:if="${autos != null and !autos.empty}"-->
                            <div th:if="${auto != null}">
                                <table class="table table-striped table-hover">
                                    <thead class="table-dark">
                                        <tr><th>#</th>
                                            <th>Marca</th>
                                            <th>Modelo</th>
                                            <th>Estilo</th>
                                            <th>Combustible</th>
                                            <th>Transmision</th>
                                            <th>Provincia</th>
                                            <th>Año</th>
                                            <th>Precio</th>
                                            <th>Imagen</th>
                                            <th></th></tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="auto, contador : ${autos}">
                                            <td>[[${contador.count}]]</td>
                                            <td>[[${auto.marca}]]</td>
                                            <td>[[${auto.modelo}]]</td>
                                            <td>[[${auto.estilo}]]</td>
                                            <td>[[${auto.combustible}]]</td>
                                            <td>[[${auto.transmision}]]</td>
                                            <td>[[${auto.provincia}]]</td>
                                            <td>[[${auto.ano}]]</td>
                                            <td>[[${auto.precio}]]</td>
                                            <td>
                                                <img th:src="@{${auto.rutaImagen}}" alt="Imagen del auto" width="100" th:if="${auto.rutaImagen != null}">
                                            </td>                                            
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!--div class="text-center p-2" th:if="${autos == null or autos.empty}"-->
                            <div class="text-center p-2" th:if="${autos == null}">
                                <span>No se encontraron autos con los criterios seleccionados</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 1 Sección principal para mostrar la informaccion de la entidad marcas -->
        <section th:fragment="listadoTotalAutos" id="autos">
            <div class="container">
                <div class="row">
                    <div class="col-md-9">
                        <div class="card">
                            <div class="card-header">
                                <h4>Información del auto</h4>
                            </div>
                            <div th:if="${autos != null and !autos.empty}">
                                <!--div th:if="${auto != null}"-->
                                <table class="table table-striped table-hover">
                                    <thead class="table-dark">
                                        <tr><th>#</th>
                                            <th>Marca</th>
                                            <th>Modelo</th>
                                            <th>Estilo</th>
                                            <th>Combustible</th>
                                            <th>Transmision</th>
                                            <th>Provincia</th>
                                            <th>Año</th>
                                            <th>Precio</th>
                                            <th>Imagen</th>
                                            <th></th></tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="auto, contador : ${autos}">
                                            <td>[[${contador.count}]]</td>
                                            <td>[[${auto.marca}]]</td>
                                            <td>[[${auto.modelo}]]</td>
                                            <td>[[${auto.estilo}]]</td>
                                            <td>[[${auto.combustible}]]</td>
                                            <td>[[${auto.transmision}]]</td>
                                            <td>[[${auto.provincia}]]</td>
                                            <td>[[${auto.ano}]]</td>
                                            <td>[[${auto.precio}]]</td>
                                            <td>
                                                <img th:src="@{${auto.rutaImagen}}" alt="Imagen del auto" width="100" th:if="${auto.rutaImagen != null}">
                                            </td>                                            
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!--div class="text-center p-2" th:if="${autos == null or autos.empty}"-->
                            <div class="text-center p-2" th:if="${autos == null}">
                                <span>No se encontraron autos con los criterios seleccionados</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Fragmento para registro y búsqueda de autos -->
        <section th:fragment="formularioBusqueda" id="autos">
            <div class="container">
                <div class="row">
                    <div class="col-md-9">
                        <div class="card"><br>
                                <div class="card-header">
                                    <h4>Información del auto</h4>
                                </div>
                                <form action="#" th:action="@{/buscar/informacion}" method="post">
                                    <table class="table table-bordered">
                                        <tbody>
                                            <tr>
                                                <td>Marca:</td>
                                                <td>
                                                    <select name="marca">
                                                        <option value="">No Importa</option>
                                                        <option value="Toyota">Toyota</option>
                                                        <option value="Chevrolet">Chevrolet</option>
                                                        <option value="Hyundai">Hyundai</option>
                                                        <option value="Nissan">Nissan</option>
                                                        <option value="Mitsubishi">Mitsubishi</option>
                                                        <option value="BYD">BYD</option>
                                                    </select>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Modelo:</td>
                                                <td><input type="text" name="modelo" min="100" max="5000" step="100"/></td>
                                            </tr>
                                            <tr>
                                                <td>Estilo:</td>
                                                <td>
                                                    <select name="estilo">
                                                        <option value="">No Importa</option>
                                                        <option value="SUV">SUV</option>
                                                        <option value="Sedan">Sedan</option>
                                                        <option value="Coupe">Coupe</option>
                                                        <option value="Convertible">Convertible</option>
                                                    </select>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Combustible:</td>
                                                <td>
                                                    <select name="combustible">
                                                        <option value="">No Importa</option>
                                                        <option value="Gasolina">Gasolina</option>
                                                        <option value="Diesel">Diesel</option>
                                                        <option value="Eléctrico">Eléctrico</option>
                                                    </select>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Transmisión:</td>
                                                <td>
                                                    <select name="transmision">
                                                        <option value="">No Importa</option>
                                                        <option value="Manual">Manual</option>
                                                        <option value="Automática">Automática</option>
                                                    </select>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Provincia:</td>
                                                <td>
                                                    <select name="provincia">
                                                        <option value="">No Importa</option>
                                                        <option value="San José">San José</option>
                                                        <option value="Cartago">Cartago</option>
                                                        <option value="Heredia">Heredia</option>
                                                        <option value="Alajuela">Alajuela</option>
                                                        <option value="Guanacaste">Guanacaste</option>
                                                        <option value="Puntarenas">Puntarenas</option>
                                                        <option value="Limón">Limón</option>
                                                    </select>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Año:</td>
                                                <td>
                                                    <input type="text" name="ano" min="100" max="5000" step="100"/>
                                                </td>                                              
                                            </tr>
                                            <tr>
                                                <td>Rango de Precio:</td>

                                                <td><input type="number" name="precio" min="0" step="0.01" value="0.0" /></td>
                                                <!--td>Minimo 0 <input type="range" name="precio" min="0" max="30000000" step="1"/> 30000000 es el maximo</td-->

                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="text-center p-2">
                                        <button type="submit" class="btn btn-primary">Buscar</button>
                                    </div>
                                </form>
                                <div th:if="${error != null}" class="alert alert-danger">
                                    <p th:text="${error}">Error</p>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section th:fragment="cardsAutos">
            <div class="container">
                <div class="card" style="width: 18rem;">
                    <img src="/static/imagenes/Chevrolet.jpg" class="card-img-top" alt="...">

                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a href="#" class="btn btn-primary">Ver Informacion</a>
                        </div>
                    </div>
                </div>
        </section>


    </body>
</html>